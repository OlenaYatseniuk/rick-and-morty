"use strict";(self.webpackChunkrick_and_morty=self.webpackChunkrick_and_morty||[]).push([[687],{7687:function(e,n,o){o.r(n),o.d(n,{default:function(){return _}});var t=o(4165),a=o(5861),r=o(9439),c=o(2791),i=o(7689),s=o(5872),l=o(4805),u=o(4388),g=o(7271),d=o(4702),p={loginWrapper:"LoginPage_loginWrapper__Oxj5T",logo:"LoginPage_logo__urYM7",loginTitle:"LoginPage_loginTitle__6k43d",loginButton:"LoginPage_loginButton__htrCq"},f=o(1243),h=o(184);var _=function(){var e=(0,c.useState)(localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")):null),n=(0,r.Z)(e,2),o=n[0],_=n[1],m=(0,i.s0)(),k=(0,l.useMediaQuery)({maxWidth:767}),x=(0,s.Nq)({onSuccess:function(e){return _(e)},onError:function(e){return console.log("Login Failed:",e)}});return(0,c.useEffect)((function(){console.log("user",o),(0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!o){e.next=6;break}return localStorage.setItem("token",JSON.stringify(o.access_token)),e.next=5,f.Z.get("https://www.googleapis.com/oauth2/v1/userinfo?access_token=".concat(o.access_token),{headers:{Authorization:"Bearer ".concat(o.access_token),Accept:"application/json"}}).then((function(e){localStorage.setItem("name",JSON.stringify(e.data.name))}));case 5:m("/",{replace:!0});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[o,m]),(0,h.jsxs)(u.Z,{children:[(0,h.jsx)("div",{className:p.logo,children:(0,h.jsx)("img",{alt:"logo",src:k?d:g})}),(0,h.jsxs)("div",{className:p.loginWrapper,children:[(0,h.jsx)("h2",{className:p.loginTitle,children:"Login with Google to see information about Rick and Morty characters!"}),(0,h.jsxs)("button",{className:p.loginButton,onClick:function(){return x()},children:["Log in with Google \ud83d\ude80"," "]})]})]})}},4388:function(e,n,o){o.d(n,{Z:function(){return r}});o(2791);var t={container:"Container_container__jzxfz"},a=o(184);var r=function(e){var n=e.children;return(0,a.jsx)("div",{className:t.container,children:n})}},7271:function(e,n,o){e.exports=o.p+"static/media/logo-desktop.55b7a1463d7a78a489cd.png"},4702:function(e,n,o){e.exports=o.p+"static/media/logo-mobile.5843d2192365561e07bd.png"}}]);
//# sourceMappingURL=687.a541fa41.chunk.js.map